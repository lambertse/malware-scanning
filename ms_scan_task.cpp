#include "ms_scan_task.h"

ms_rc MSScanTask::start(const MSDict &inDict, MSDict& outDict)
{
    ms_rc rc = MS_OK;
    MSDict resultDict;
    if( MS_SUCCESS(rc = this->_layers->start(this->_param, resultDict))){
        // std::cout << "Handle 1 file success!\n";
        outDict.add( MS_KEY_TOTAL_FILE, 100);
    }
    else{
        // std::cout << "Failed due to rc: " << rc << std::endl;
        MS_LOGGER_INFO("[task] 1 file scan failed, due to rc: {}", rc);
    }
    _callback(std::move( resultDict ));
    return rc;
}