#ifndef __string_utils_h__
#define __string_utils_h__

#include <string>
#include <locale>
#include <algorithm>
#include <cctype>
#include <vector>

#ifdef __APPLE__
	#include <CoreFoundation/CFString.h>
#endif

namespace StringUtils
{    
    template<typename MS_CHAR>
	void toLower( std::basic_string<MS_CHAR>& _str )
	{
		std::transform( _str.begin(), _str.end(), _str.begin(), []( MS_CHAR c ) { return std::tolower( c, std::locale() ); } );
	}

    template<typename MS_CHAR>
	void toUpper( std::basic_string<MS_CHAR>& _str )
	{
		std::transform( _str.begin(), _str.end(), _str.begin(), []( MS_CHAR c ) { return std::toupper( c, std::locale() ); } );
	}

    std::string toString( const std::wstring& _wstr );
    std::wstring toWideString( const std::string& _str );
	#ifdef __APPLE__
	 std::wstring toWideString( CFStringRef _cfs );
	 std::string toString( CFStringRef _cfs );
	#endif

	 void ensureDirEnding( std::wstring& _path );
	 void ensureDirEnding( std::string& _path );

	 void trimLeft( std::wstring& s );
	 void trimRight( std::wstring& s );
	 void trim( std::wstring& s );
	 void removeDashChars( std::wstring& s );

	 void tokenize( const std::wstring& in_str, const wchar_t in_delimiter, std::vector<std::wstring>& out_tokens );
	 void replaceChars( std::wstring& out_target, const std::wstring& in_chars_to_replace, wchar_t in_replacement);

	 int strToI32(std::string &str);
	 time_t utcTimeStrToTimet(const std::string& utcTimeStr);
	 std::vector<std::string> explode(const std::string& str, const char ch);
};

#endif